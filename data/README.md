# Папка данных (data)

Эта папка содержит JSON файлы с данными бота.

## Файлы

### unfound_equipment.json
Хранит информацию о ненайденном оборудовании.

**Структура:**
```json
[
  {
    "serial_number": "ABC123",
    "model_name": "Dell Latitude 5420",
    "employee_name": "Иванов Иван Иванович",
    "location": "Офис 301",
    "equipment_type": "Ноутбук",
    "description": "Рабочий ноутбук",
    "inventory_number": "INV-2024-001",
    "ip_address": "192.168.1.100",
    "status": "В работе",
    "branch": "Москва",
    "company": "ООО \"Запсибгазпром-Газификация\"",
    "db_name": "ITINVENT",
    "timestamp": "2024-01-15T10:30:00"
  }
]
```

### equipment_transfers.json
Хранит информацию о перемещениях оборудования.

**Структура:**
```json
[
  {
    "serial_number": "XYZ789",
    "new_employee": "Петров Петр Петрович",
    "old_employee": "Сидоров Сидор Сидорович",
    "db_name": "ITINVENT",
    "timestamp": "2024-01-15T14:20:00",
    "additional_data": {}
  }
]
```

### cartridge_replacements.json
Хранит информацию о заменах картриджей.

**Структура:**
```json
[
  {
    "branch": "г.Тюмень, Первомайская 19",
    "location": "19_105",
    "printer_model": "Xerox Versalink B605",
    "cartridge_color": "Черный",
    "db_name": "ITINVENT",
    "timestamp": "2025-10-21T23:01:01.935864"
  }
]
```

### equipment_installations.json
Хранит информацию об установках оборудования.

**Структура:**
```json
[
  {
    "branch": "г.Тюмень, Первомайская 19",
    "location": "19_105",
    "equipment_type": "Монитор",
    "equipment_model": "Philips 243V7Q",
    "db_name": "ITINVENT",
    "timestamp": "2025-10-21T23:02:08.807188"
  }
]
```

### export_state.json
Хранит состояние последних экспортов (для функции "только новые").

**Структура:**
```json
{
  "unfound": {
    "ITINVENT": "2024-01-15T10:30:00",
    "__all__": "2024-01-15T10:30:00"
  },
  "transfers": {
    "ITINVENT": "2024-01-15T14:20:00"
  }
}
```

### user_db_selection.json
Хранит выбор базы данных для каждого пользователя.

**Структура:**
```json
{
  "123456789": "MSK-ITINVENT",
  "987654321": "ITINVENT"
}
```

## Резервное копирование

Рекомендуется регулярно создавать резервные копии этих файлов:

```bash
# Windows
xcopy data\*.json backup\data_%date:~-4,4%%date:~-7,2%%date:~-10,2%\ /Y

# Linux/Mac
cp data/*.json backup/data_$(date +%Y%m%d)/
```

## Восстановление

При необходимости восстановления данных:

1. Остановите бота
2. Скопируйте файлы из резервной копии в папку `data/`
3. Запустите бота

## Очистка данных

Для очистки всех данных (осторожно!):

```bash
# Windows
del data\*.json

# Linux/Mac
rm data/*.json
```

После очистки файлы будут созданы автоматически при первом использовании соответствующих функций.

## Миграция

При переносе бота на другой сервер:

1. Скопируйте всю папку `data/` на новый сервер
2. Убедитесь, что права доступа позволяют чтение и запись
3. Запустите бота

## Примечания

- Все файлы используют кодировку UTF-8
- Формат даты и времени: ISO 8601 (YYYY-MM-DDTHH:MM:SS)
- Файлы автоматически создаются при первом использовании
- Данные не синхронизируются между несколькими инстансами бота
