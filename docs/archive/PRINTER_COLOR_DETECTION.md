# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ü–≤–µ—Ç–Ω–æ—Å—Ç–∏ –ø—Ä–∏–Ω—Ç–µ—Ä–∞

## –û–ø–∏—Å–∞–Ω–∏–µ

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ü–≤–µ—Ç–Ω–æ—Å—Ç–∏ –ø—Ä–∏–Ω—Ç–µ—Ä–∞ —á–µ—Ä–µ–∑ LLM —Å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤. –ü—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∑–∞–º–µ–Ω—ã –∫–∞—Ä—Ç—Ä–∏–¥–∂–∞ –±–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –ø—Ä–∏–Ω—Ç–µ—Ä —Ü–≤–µ—Ç–Ω—ã–º –∏–ª–∏ —á–µ—Ä–Ω–æ-–±–µ–ª—ã–º, –∏ –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã —Ü–≤–µ—Ç–æ–≤ –∫–∞—Ä—Ç—Ä–∏–¥–∂–µ–π.

## –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### 1. –°–µ—Ä–≤–∏—Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ü–≤–µ—Ç–Ω–æ—Å—Ç–∏ (`bot/services/printer_color_detector.py`)

**–ö–ª–∞—Å—Å `PrinterColorDetector`:**
- –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ü–≤–µ—Ç–Ω–æ—Å—Ç—å –ø—Ä–∏–Ω—Ç–µ—Ä–∞ —á–µ—Ä–µ–∑ OpenRouter API
- –ö—ç—à–∏—Ä—É–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ `data/printer_color_cache.json`
- –ù–æ—Ä–º–∞–ª–∏–∑—É–µ—Ç –Ω–∞–∑–≤–∞–Ω–∏—è –º–æ–¥–µ–ª–µ–π –¥–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è

**–û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã:**
- `is_color_printer(printer_model: str) -> Optional[bool]` - –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ü–≤–µ—Ç–Ω–æ—Å—Ç—å –ø—Ä–∏–Ω—Ç–µ—Ä–∞
- `get_cache_stats() -> Dict[str, Any]` - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∫—ç—à–∞
- `clear_cache()` - –æ—á–∏—â–∞–µ—Ç –∫—ç—à

### 2. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ —Ä–∞–±–æ—Ç (`bot/handlers/work.py`)

**–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
- `work_printer_model_input()` - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ü–≤–µ—Ç–Ω–æ—Å—Ç—å –ø–æ—Å–ª–µ –≤–≤–æ–¥–∞ –º–æ–¥–µ–ª–∏
- `handle_work_model_suggestion()` - –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ü–≤–µ—Ç–Ω–æ—Å—Ç—å –ø—Ä–∏ –≤—ã–±–æ—Ä–µ –∏–∑ –ø–æ–¥—Å–∫–∞–∑–æ–∫
- `handle_printer_type_selection()` - –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ä—É—á–Ω–æ–π –≤—ã–±–æ—Ä —Ç–∏–ø–∞ –ø—Ä–∏–Ω—Ç–µ—Ä–∞

## –ê–ª–≥–æ—Ä–∏—Ç–º —Ä–∞–±–æ—Ç—ã

### 1. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ

```
–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç –º–æ–¥–µ–ª—å –ø—Ä–∏–Ω—Ç–µ—Ä–∞
    ‚Üì
–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ "üîç –û–ø—Ä–µ–¥–µ–ª—è—é —Ç–∏–ø –ø—Ä–∏–Ω—Ç–µ—Ä–∞..."
    ‚Üì
–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫—ç—à–∞ –ø–æ –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–º—É –Ω–∞–∑–≤–∞–Ω–∏—é
    ‚Üì
–ï—Å–ª–∏ –≤ –∫—ç—à–µ ‚Üí –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç
    ‚Üì
–ï—Å–ª–∏ –Ω–µ—Ç –≤ –∫—ç—à–µ ‚Üí –∑–∞–ø—Ä–æ—Å –∫ LLM
    ‚Üì
LLM –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –º–æ–¥–µ–ª—å –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç "–î–ê" –∏–ª–∏ "–ù–ï–¢"
    ‚Üì
–†–µ–∑—É–ª—å—Ç–∞—Ç —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –∫—ç—à
    ‚Üì
–£–¥–∞–ª—è–µ—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ –æ –ø—Ä–æ–≤–µ—Ä–∫–µ
    ‚Üì
–ü–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –∫–Ω–æ–ø–∫–∏ –≤—ã–±–æ—Ä–∞ —Ü–≤–µ—Ç–∞ –∫–∞—Ä—Ç—Ä–∏–¥–∂–∞
```

### 2. –†—É—á–Ω–æ–π –≤—ã–±–æ—Ä (fallback)

–ï—Å–ª–∏ LLM –Ω–µ —Å–º–æ–≥ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ü–≤–µ—Ç–Ω–æ—Å—Ç—å (–≤–µ—Ä–Ω—É–ª `None`):

```
–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ
    ‚Üì
–ü—Ä–µ–¥–ª–∞–≥–∞–µ—Ç—Å—è –≤—ã–±—Ä–∞—Ç—å —Ç–∏–ø –≤—Ä—É—á–Ω—É—é:
  - üé® –¶–≤–µ—Ç–Ω–æ–π –ø—Ä–∏–Ω—Ç–µ—Ä
  - ‚ö´ –ß–µ—Ä–Ω–æ-–±–µ–ª—ã–π –ø—Ä–∏–Ω—Ç–µ—Ä
    ‚Üì
–ü–æ—Å–ª–µ –≤—ã–±–æ—Ä–∞ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —Ü–≤–µ—Ç–∞ –∫–∞—Ä—Ç—Ä–∏–¥–∂–µ–π
```

## –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞–∑–≤–∞–Ω–∏–π –º–æ–¥–µ–ª–µ–π

–î–ª—è —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ–≥–æ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞–∑–≤–∞–Ω–∏—è –º–æ–¥–µ–ª–µ–π –Ω–æ—Ä–º–∞–ª–∏–∑—É—é—Ç—Å—è:

1. –ü—Ä–∏–≤–µ–¥–µ–Ω–∏–µ –∫ –Ω–∏–∂–Ω–µ–º—É —Ä–µ–≥–∏—Å—Ç—Ä—É
2. –£–¥–∞–ª–µ–Ω–∏–µ –ª–∏—à–Ω–∏—Ö –ø—Ä–æ–±–µ–ª–æ–≤
3. –£–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–µ—Ñ–∏–∫—Å–æ–≤: "–ø—Ä–∏–Ω—Ç–µ—Ä", "printer", "–º—Ñ—É", "mfp", "–º—Ñ–ø"

**–ü—Ä–∏–º–µ—Ä—ã:**
- `"–ü—Ä–∏–Ω—Ç–µ—Ä HP LaserJet Pro M404dn"` ‚Üí `"hp laserjet pro m404dn"`
- `"Canon PIXMA G3411 –ú–§–£"` ‚Üí `"canon pixma g3411"`
- `"  Epson  L3150  "` ‚Üí `"epson l3150"`

## –§–æ—Ä–º–∞—Ç –∫—ç—à–∞

–§–∞–π–ª: `data/printer_color_cache.json`

```json
{
  "hp laserjet pro m404dn": false,
  "canon pixma g3411": true,
  "epson l3150": true,
  "xerox workcentre 3025": false
}
```

## –ü—Ä–æ–º–ø—Ç –¥–ª—è LLM

```
–û–ø—Ä–µ–¥–µ–ª–∏, —è–≤–ª—è–µ—Ç—Å—è –ª–∏ –ø—Ä–∏–Ω—Ç–µ—Ä "{printer_model}" —Ü–≤–µ—Ç–Ω—ã–º –∏–ª–∏ —á–µ—Ä–Ω–æ-–±–µ–ª—ã–º.

–û—Ç–≤–µ—á–∞–π –¢–û–õ–¨–ö–û –æ–¥–Ω–∏–º —Å–ª–æ–≤–æ–º:
- "–î–ê" - –µ—Å–ª–∏ –ø—Ä–∏–Ω—Ç–µ—Ä —Ü–≤–µ—Ç–Ω–æ–π (–ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ü–≤–µ—Ç–Ω—É—é –ø–µ—á–∞—Ç—å)
- "–ù–ï–¢" - –µ—Å–ª–∏ –ø—Ä–∏–Ω—Ç–µ—Ä —á–µ—Ä–Ω–æ-–±–µ–ª—ã–π (—Ç–æ–ª—å–∫–æ –º–æ–Ω–æ—Ö—Ä–æ–º–Ω–∞—è –ø–µ—á–∞—Ç—å)

–ú–æ–¥–µ–ª—å –ø—Ä–∏–Ω—Ç–µ—Ä–∞: {printer_model}

–û—Ç–≤–µ—Ç:
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—Ä–æ—Å–∞:**
- `model`: `mistralai/mistral-small-3.2-24b-instruct` (–∏–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏)
- `max_tokens`: 10 (–Ω—É–∂–µ–Ω —Ç–æ–ª—å–∫–æ –∫–æ—Ä–æ—Ç–∫–∏–π –æ—Ç–≤–µ—Ç)
- `temperature`: 0.1 (–º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∫—Ä–µ–∞—Ç–∏–≤–Ω–æ—Å—Ç—å)

## –ü–∞—Ä—Å–∏–Ω–≥ –æ—Ç–≤–µ—Ç–∞ LLM

–û—Ç–≤–µ—Ç —Å—á–∏—Ç–∞–µ—Ç—Å—è –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–º (—Ü–≤–µ—Ç–Ω–æ–π –ø—Ä–∏–Ω—Ç–µ—Ä), –µ—Å–ª–∏ —Å–æ–¥–µ—Ä–∂–∏—Ç:
- "–î–ê"
- "YES"
- "–¶–í–ï–¢–ù"
- "COLOR"

–û—Ç–≤–µ—Ç —Å—á–∏—Ç–∞–µ—Ç—Å—è –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–º (—á/–± –ø—Ä–∏–Ω—Ç–µ—Ä), –µ—Å–ª–∏ —Å–æ–¥–µ—Ä–∂–∏—Ç:
- "–ù–ï–¢"
- "NO"
- "–ß–ï–†–ù–û-–ë–ï–õ"
- "–ú–û–ù–û–•–†–û–ú"
- "BLACK"

–ï—Å–ª–∏ –æ—Ç–≤–µ—Ç –Ω–µ —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω ‚Üí –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è `None` ‚Üí –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç—Å—è —Ä—É—á–Ω–æ–π –≤—ã–±–æ—Ä.

## –í–∞—Ä–∏–∞–Ω—Ç—ã —Ü–≤–µ—Ç–æ–≤ –∫–∞—Ä—Ç—Ä–∏–¥–∂–µ–π

### –¶–≤–µ—Ç–Ω–æ–π –ø—Ä–∏–Ω—Ç–µ—Ä (4 —Ü–≤–µ—Ç–∞)
- ‚ö´ –ß–µ—Ä–Ω—ã–π (black)
- üîµ –°–∏–Ω–∏–π (Cyan)
- üü° –ñ–µ–ª—Ç—ã–π (Yellow)
- üî¥ –ü—É—Ä–ø—É—Ä–Ω—ã–π (Magenta)

### –ß–µ—Ä–Ω–æ-–±–µ–ª—ã–π –ø—Ä–∏–Ω—Ç–µ—Ä (1 —Ü–≤–µ—Ç)
- ‚ö´ –ß–µ—Ä–Ω—ã–π (black)

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–¥–µ

### –ü—Ä–æ—Å—Ç–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```python
from bot.services.printer_color_detector import is_color_printer

# –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ü–≤–µ—Ç–Ω–æ—Å—Ç–∏
is_color = is_color_printer("HP LaserJet Pro M404dn")

if is_color is True:
    print("–¶–≤–µ—Ç–Ω–æ–π –ø—Ä–∏–Ω—Ç–µ—Ä")
elif is_color is False:
    print("–ß–µ—Ä–Ω–æ-–±–µ–ª—ã–π –ø—Ä–∏–Ω—Ç–µ—Ä")
else:
    print("–ù–µ —É–¥–∞–ª–æ—Å—å –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å")
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∫—ç—à–∞

```python
from bot.services.printer_color_detector import get_printer_cache_stats

stats = get_printer_cache_stats()
print(f"–í—Å–µ–≥–æ –º–æ–¥–µ–ª–µ–π –≤ –∫—ç—à–µ: {stats['total_models']}")
print(f"–¶–≤–µ—Ç–Ω—ã—Ö –ø—Ä–∏–Ω—Ç–µ—Ä–æ–≤: {stats['color_printers']}")
print(f"–ß/–± –ø—Ä–∏–Ω—Ç–µ—Ä–æ–≤: {stats['bw_printers']}")
```

### –û—á–∏—Å—Ç–∫–∞ –∫—ç—à–∞

```python
from bot.services.printer_color_detector import printer_detector

printer_detector.clear_cache()
```

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

1. **–¢–æ—á–Ω–æ—Å—Ç—å**: LLM –∑–Ω–∞–µ—Ç —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –º–æ–¥–µ–ª–µ–π –ø—Ä–∏–Ω—Ç–µ—Ä–æ–≤
2. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ü–æ–≤—Ç–æ—Ä–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –¥–ª—è –æ–¥–Ω–æ–π –º–æ–¥–µ–ª–∏ –Ω–µ —Ç—Ä–µ–±—É—é—Ç –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ API
3. **–≠–∫–æ–Ω–æ–º–∏—è**: –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–∫–µ–Ω–æ–≤ (max_tokens=10)
4. **Fallback**: –†—É—á–Ω–æ–π –≤—ã–±–æ—Ä –ø—Ä–∏ –Ω–µ—É–¥–∞—á–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è
5. **–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ—Å—Ç—å**: –†–∞–±–æ—Ç–∞–µ—Ç —Å –ª—é–±—ã–º–∏ –º–æ–¥–µ–ª—è–º–∏ –ø—Ä–∏–Ω—Ç–µ—Ä–æ–≤

## –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

1. –¢—Ä–µ–±—É–µ—Ç—Å—è –¥–æ—Å—Ç—É–ø –∫ OpenRouter API
2. –ù–µ–±–æ–ª—å—à–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—Ä–æ—Å–µ –¥–ª—è –Ω–æ–≤–æ–π –º–æ–¥–µ–ª–∏ (~1-2 —Å–µ–∫—É–Ω–¥—ã)
3. –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç –∫–∞—á–µ—Å—Ç–≤–∞ –æ—Ç–≤–µ—Ç–∞ LLM
4. –ö—ç—à —Ö—Ä–∞–Ω–∏—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ (–Ω–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç—Å—è –º–µ–∂–¥—É –∏–Ω—Å—Ç–∞–Ω—Å–∞–º–∏)

## –í–æ–∑–º–æ–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

1. **–ü—Ä–µ–¥–∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –∫—ç—à–∞**: –î–æ–±–∞–≤–∏—Ç—å –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ –º–æ–¥–µ–ª–∏ –ø—Ä–∏–Ω—Ç–µ—Ä–æ–≤ –≤ –∫—ç—à –∑–∞—Ä–∞–Ω–µ–µ
2. **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∫—ç—à–∞**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Redis –¥–ª—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ –∫—ç—à–∞
3. **–û–±—É—á–µ–Ω–∏–µ**: –°–æ–±–∏—Ä–∞—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –æ—à–∏–±–æ–∫ –∏ —É–ª—É—á—à–∞—Ç—å –ø—Ä–æ–º–ø—Ç
4. **–û—Ñ—Ñ–ª–∞–π–Ω —Ä–µ–∂–∏–º**: –î–æ–±–∞–≤–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω—É—é –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π –¥–ª—è —Ä–∞–±–æ—Ç—ã –±–µ–∑ API
5. **–ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω–æ—Å—Ç—å**: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –Ω–∞ —Ä–∞–∑–Ω—ã—Ö —è–∑—ã–∫–∞—Ö

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞
2. –í—ã–±–µ—Ä–∏—Ç–µ "üîß –†–∞–±–æ—Ç—ã" ‚Üí "üñ®Ô∏è –ó–∞–º–µ–Ω–∞ –∫–∞—Ä—Ç—Ä–∏–¥–∂–∞"
3. –í–≤–µ–¥–∏—Ç–µ —Ñ–∏–ª–∏–∞–ª –∏ –ª–æ–∫–∞—Ü–∏—é
4. –í–≤–µ–¥–∏—Ç–µ –º–æ–¥–µ–ª—å –ø—Ä–∏–Ω—Ç–µ—Ä–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "HP LaserJet Pro M404dn")
5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –±–æ—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ "üîç –û–ø—Ä–µ–¥–µ–ª—è—é —Ç–∏–ø –ø—Ä–∏–Ω—Ç–µ—Ä–∞..."
6. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ç–∏–ø –ø—Ä–∏–Ω—Ç–µ—Ä–∞
7. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –ø—Ä–µ–¥–ª–∞–≥–∞—é—Ç—Å—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ —Ü–≤–µ—Ç–∞ –∫–∞—Ä—Ç—Ä–∏–¥–∂–µ–π

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫—ç—à–∞

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –∫—ç—à–∞
cat data/printer_color_cache.json

# –ò–ª–∏ –≤ PowerShell
Get-Content data/printer_color_cache.json | ConvertFrom-Json | ConvertTo-Json
```

### –ü—Ä–∏–º–µ—Ä—ã –º–æ–¥–µ–ª–µ–π –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

**–¶–≤–µ—Ç–Ω—ã–µ –ø—Ä–∏–Ω—Ç–µ—Ä—ã:**
- Canon PIXMA G3411
- Epson L3150
- HP Color LaserJet Pro M454dn
- Brother MFC-L3770CDW

**–ß–µ—Ä–Ω–æ-–±–µ–ª—ã–µ –ø—Ä–∏–Ω—Ç–µ—Ä—ã:**
- HP LaserJet Pro M404dn
- Canon i-SENSYS LBP6030
- Xerox WorkCentre 3025
- Brother HL-L2340DW

## –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è:

```
INFO: –ó–∞–≥—Ä—É–∂–µ–Ω –∫—ç—à –ø—Ä–∏–Ω—Ç–µ—Ä–æ–≤: 5 –∑–∞–ø–∏—Å–µ–π
INFO: –ù–∞–π–¥–µ–Ω–æ –≤ –∫—ç—à–µ: HP LaserJet Pro M404dn -> —á/–±
INFO: –ó–∞–ø—Ä–æ—Å –∫ LLM –¥–ª—è –Ω–æ–≤–æ–≥–æ –ø—Ä–∏–Ω—Ç–µ—Ä–∞: Canon PIXMA G3411
INFO: LLM –æ—Ç–≤–µ—Ç –¥–ª—è Canon PIXMA G3411: '–î–ê'
INFO: –û–ø—Ä–µ–¥–µ–ª–µ–Ω–æ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ –≤ –∫—ç—à: Canon PIXMA G3411 -> —Ü–≤–µ—Ç–Ω–æ–π
INFO: –ö—ç—à –ø—Ä–∏–Ω—Ç–µ—Ä–æ–≤ —Å–æ—Ö—Ä–∞–Ω–µ–Ω: 6 –∑–∞–ø–∏—Å–µ–π
```

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç–µ –∂–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏, —á—Ç–æ –∏ –¥–ª—è OCR:

```env
OPENROUTER_API_KEY=sk-or-v1-...
```

–ú–æ–¥–µ–ª—å –±–µ—Ä–µ—Ç—Å—è –∏–∑ `bot/config.py`:
```python
ocr_model: str = "mistralai/mistral-small-3.2-24b-instruct"
```

## –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—Ç –ø—Ä–µ–¥—ã–¥—É—â–µ–π –≤–µ—Ä—Å–∏–∏

**–ë—ã–ª–æ:**
- –ü—Ä–æ—Å—Ç–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ –∫–ª—é—á–µ–≤—ã–º —Å–ª–æ–≤–∞–º –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏ –º–æ–¥–µ–ª–∏
- –ù–µ—Ç–æ—á–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –¥–ª—è –º–æ–¥–µ–ª–µ–π –±–µ–∑ —è–≤–Ω—ã—Ö –º–∞—Ä–∫–µ—Ä–æ–≤

**–°—Ç–∞–ª–æ:**
- –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ LLM
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- Fallback –Ω–∞ —Ä—É—á–Ω–æ–π –≤—ã–±–æ—Ä
- –í—ã—Å–æ–∫–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è

## –î–∞—Ç–∞ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è

22 –æ–∫—Ç—è–±—Ä—è 2025

## –ê–≤—Ç–æ—Ä

Kiro AI Assistant
